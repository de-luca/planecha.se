<template>
  <div
    :class="{ 'is-active': active }"
    class="dropdown is-right"
  >
    <div class="dropdown-trigger">
      <button
        @click="active = !active"
        @keyup.space.prevent
        class="button is-outlined"
        aria-haspopup="true"
        aria-controls="dropdown-menu"
      >
        <span class="icon is-medium">
          <fa icon="dice-d20" fixed-width />
        </span>
      </button>
    </div>

    <div class="click-trap" @click="active = false"></div>

    <div class="dropdown-menu" id="dropdown-menu" role="menu">
      <div class="dropdown-content">
        <div class="dropdown-item dices">
          <planar-dice />

          <coin></coin>

          <dice :sides="4">
            <svg class="control" viewBox="50 0 600 550" xmlns="http://www.w3.org/2000/svg">
              <path d="m366.67 61.922c-3.2656-4.2383-8.3047-6.7031-13.633-6.7031s-10.367 2.4648-13.633 6.7031l-216.41 280.46c-2.9805 3.8398-4.1836 8.7656-3.3242 13.574 0.85938 4.7539 3.7227 8.9922 7.8477 11.516l216.47 134.73c2.8086 1.7188 5.957 2.5781 9.1094 2.5781s6.3008-0.85938 9.1094-2.5781l216.47-134.73c4.125-2.5781 6.9883-6.7578 7.8477-11.516 0.85937-4.7539-0.34375-9.6797-3.3242-13.574zm-30.758 60.895v333.9l-174.09-108.38zm34.367 333.84v-333.84l174.08 225.52z" />
            </svg>
          </dice>

          <dice :sides="6">
            <svg class="control" viewBox="50 0 600 550" xmlns="http://www.w3.org/2000/svg">
              <path d="m542.87 155.12-183.07-77.504c-4.2969-1.832-9.1094-1.832-13.402 0l-183.08 77.504c-6.3008 2.6914-10.426 8.8789-10.484 15.695v0.11328 215.44c0 6.8164 4.0664 13.004 10.312 15.754l183.08 80.195c2.1758 0.97266 4.5234 1.4336 6.875 1.4336 2.3477 0 4.6953-0.45703 6.875-1.4336l183.08-80.195c6.2422-2.75 10.312-8.9375 10.312-15.754l-0.003906-215.44v-0.11328c-0.058594-6.8203-4.125-13.004-10.484-15.699zm-189.78-43.02 139.66 59.117-139.66 61.18-139.66-61.18zm-165.95 85.125 148.77 65.129v177.92l-148.77-65.129zm183.13 243.05v-177.92l148.71-65.133v177.92z" />
            </svg>
          </dice>

          <dice :sides="8">
            <svg class="control" viewBox="50 0 600 550" xmlns="http://www.w3.org/2000/svg">
              <path d="m526.38 174.71-160.68-97.098c-5.2695-3.1523-11.801-3.3242-17.184-.34375l-164.4 90.566c-5.3828 2.9805-8.7656 8.5938-8.8789 14.723l-3.7227 187.72c-.11328 6.1289 3.0352 11.859 8.3047 15.066l160.68 97.094c2.75 1.6602 5.7852 2.4648 8.8789 2.4648 2.8633 0 5.7266-.6875 8.3047-2.1211l164.4-90.621c5.3828-2.9805 8.7656-8.5938 8.8789-14.723l3.7227-187.72c.11719-6.1289-3.0352-11.859-8.3047-15.008zm-28.469 136.33-98.301-172.82 100.48 60.719zm-13.805 45.312-258.98-2.5781 129.29-225.52zm-175-218.14-102.14 178.15 2.4648-123.21zm40.613 309.62-98.355-59.402 202.55 2.0039z" />
            </svg>
          </dice>

          <dice :sides="10">
            <svg class="control" viewBox="50 0 600 550" xmlns="http://www.w3.org/2000/svg">
              <path d="m363.46 59.172c-6.3594-5.2695-15.637-5.2695-21.996 0l-209.31 174.66c-3.8945 3.2656-6.1875 8.0781-6.1875 13.176v62.727c0 5.0391 2.2344 9.8516 6.0703 13.117l209.32 177.86c3.207 2.75 7.1602 4.0664 11.113 4.0664s7.9062-1.375 11.113-4.0664l210.52-177.86c3.8398-3.2656 6.0703-8.0781 6.0703-13.117v-62.668c0-5.0977-2.293-9.9688-6.1875-13.23zm182.33 228.79-88.504-22.512-59.113-132.84 147.68 122.53zm-193.27 20.164-70.227-36.031 70.227-157.53 70.23 157.53zm-94.574-9.8516 77.391 39.695v112.5l-155.7-132.27zm111.76 39.695 77.391-39.695 79.051 20.164-156.44 132.15zm-63.012-204.96-59 132.38-87.359 22.281v-32.535z" />
            </svg>
          </dice>

          <dice :sides="12">
            <svg class="control" viewBox="50 0 600 550" xmlns="http://www.w3.org/2000/svg">
              <path d="m553.3 209.37-71.145-97.953c-2.1211-2.9219-5.1562-5.0977-8.5938-6.2422l-115.14-37.406c-3.4375-1.1445-7.1602-1.1445-10.598 0l-115.14 37.406c-3.4375 1.1445-6.4727 3.3242-8.5938 6.2422l-71.195 97.953c-2.1211 2.9219-3.2656 6.4727-3.2656 10.082v121.04c0 3.6094 1.1445 7.1602 3.2656 10.082l71.145 97.953c2.1211 2.9219 5.1562 5.0977 8.5938 6.2422l115.14 37.406c1.7188 0.57422 3.4961 0.85938 5.3281 0.85938 1.832 0 3.6094-0.28516 5.3281-0.85938l115.14-37.406c3.4375-1.1445 6.4727-3.3242 8.5938-6.2422l71.137-97.953c2.1211-2.9219 3.2656-6.4727 3.2656-10.082v-121.04c0-3.6094-1.1445-7.1602-3.2656-10.082zm-40.441 2.8047-53.504 22.969-89.074-64.73v-62.605l87.301 28.355zm-107.92 147.79h-103.68l-32.02-98.586 83.863-60.949 83.863 60.949zm-156.38-223.81 87.301-28.355v62.668l-89.02 64.676-53.504-22.969zm-64.559 198.77v-89.363l51.098 21.938 34.426 105.92-30.645 37.004zm169.1 122.88-85.754-27.84 29.5-35.629h112.45l29.5 35.629zm114.22-47.375-30.645-37.004 34.426-105.92 51.098-21.938v89.363z"/>
            </svg>
          </dice>

          <dice :sides="20">
            <svg class="control" viewBox="50 0 600 550" xmlns="http://www.w3.org/2000/svg">
              <path d="m534.34 178.89c-0.11328-0.85938-0.17188-1.7188-0.40234-2.5195-0.23047-0.74609-0.57422-1.375-0.85938-2.1211-0.23047-0.62891-0.40234-1.2617-0.74609-1.832-0.058594-0.058594-0.11328-0.11328-0.11328-0.17188-0.40234-0.62891-0.91797-1.2031-1.375-1.832-0.45703-0.57422-0.85938-1.2031-1.375-1.7188-0.45703-0.45703-1.0312-0.80078-1.5469-1.2031-0.62891-0.51562-1.2617-1.0898-2.0039-1.4883-0.11328-0.058593-0.17187-0.11328-0.23047-0.17187l-167.95-92.797c-5.3828-2.9805-11.914-2.8633-17.184 0.34375l-164.29 99.102c-0.11328 0.058594-0.17187 0.17188-0.28516 0.23047-0.6875 0.40234-1.2617 0.97266-1.8906 1.4883-0.51562 0.45703-1.0898 0.85938-1.6055 1.375-0.45703 0.51562-0.85937 1.1445-1.2617 1.6602-0.45703 0.62891-0.97266 1.2617-1.3164 1.9492-0.058594 0.11328-0.11328 0.17188-0.17188 0.23047-0.28516 0.57422-0.40234 1.1445-0.57422 1.7188-0.28516 0.74609-0.62891 1.4336-0.80078 2.2344-0.17187 0.80078-0.23047 1.6055-0.28516 2.4062-0.058594 0.57422-0.23047 1.1445-0.23047 1.7773l3.6094 191.84c0.11328 6.1289 3.4961 11.742 8.8789 14.723l168.07 92.789c2.5781 1.4336 5.4414 2.1211 8.3047 2.1211 3.0938 0 6.1289-0.80078 8.8789-2.4648l164.34-99.043c5.2695-3.1523 8.4219-8.8789 8.3047-15.066l-3.6094-191.84c0.007812-0.57422-0.22266-1.1445-0.28125-1.7188zm-125.62 158.45-50.867 90.621-54.246-88.676zm-108.44-35.516 50.867-90.621 54.246 88.676zm-30.703-15.523-54.074-83.691 104.6-6.3594zm167.9 0.17188-55.91-91.367 106.66 2.4062zm-70-126.08-0.51562-42.906 80.941 44.738zm-34.371 0.62891-79.223 4.8125 78.766-47.488zm-85.754 154.21-42.047 30.59-1.8906-98.527zm18.848 28.754 53.789 87.93-99.328-54.879zm178.21-0.054687 44.164 28.41-90.793 54.707zm16.957-30.02 40.039-70.23 1.832 97.211z" />
            </svg>
          </dice>
        </div>
      </div>
    </div>
  </div>
</template>

<script lang="ts" setup>
import { ref } from 'vue';
import Coin from '../dices/Coin.vue';
import Dice from '../dices/Dice.vue';
import PlanarDice from '../dices/PlanarDice.vue';
let active = ref(false);
</script>

<style lang="scss" scoped>
.click-trap {
  display: none;
  position: fixed;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  background-color: transparent;
  z-index: 3;
}

.dropdown.is-active .click-trap {
  display: block;
}

.dropdown-menu {
  .dropdown-content {
    color: var(--text-color);
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);

    .dropdown-item {
      color: var(--text-color);

      &.dices {
        width: 100%;
        border-left: none;

        display: flex;
        flex-direction: row;
        justify-content: space-evenly;
        align-items: center;
        gap: .5rem;

        button {
          height: 5rem;
          width: 5rem;
          font-size: 2em;
        }
      }
    }
  }
}
</style>
