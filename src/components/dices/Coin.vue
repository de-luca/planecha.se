<template>
  <button
    class="button is-secondary is-rounded"
    :class="{ 'is-loading': rolling }"
    title="Flip a coin"
    @click="roll"
    @keyup.space.prevent
  >
    <svg v-if="showFace" class="control" viewBox="200 100 275 225" xmlns="http://www.w3.org/2000/svg">
      <path d="m440.66 180.41c-3.4648-6.332-15.922-29.035-19.387-35.352-1.332-2.4297-3.1211-4.5469-5.3086-6.3633-6.5703-5.4336-16.777-8.0859-29.309-8.0859h-0.011718c-22.469 0-52.406 8.5234-82.254 24.898-52.059 28.543-84.156 70.137-71.66 92.93l0.011719 0.039062c3.4648 6.3242 15.902 29.008 19.375 35.348 12.492 22.781 64.832 18.094 116.9-10.465 52.062-28.559 84.145-70.172 71.641-92.961zm-197.32 62.215c-6.8477-12.488 15.797-48.508 66.863-76.512 26.723-14.656 55.293-23.406 76.441-23.406 12.426 0 21.18 2.9805 24.031 8.1641 6.8477 12.488-15.797 48.508-66.863 76.52-26.719 14.645-55.301 23.391-76.441 23.391-12.434-0.003906-21.195-2.9766-24.031-8.1562zm19.391 35.375-8.9883-16.387c2.5977 0.52734 5.3438 0.90625 8.2773 1.0977l12.125 22.121c-5.7617-1.3438-9.6992-3.6992-11.414-6.832zm21.273 8.0547-12.777-23.277c2.832-0.125 5.7773-0.375 8.7969-0.73438l13.043 23.773c-3.1992 0.21875-6.2812 0.32812-9.0625 0.23828zm17.73-1.2227-13.227-24.109c2.6953-0.50391 5.4336-1.082 8.2383-1.7578l13.34 24.355c-2.875 0.62109-5.6523 1.1133-8.3516 1.5117zm16.465-3.5039-13.422-24.504c2.582-0.74609 5.2031-1.5508 7.8438-2.4531l13.484 24.59c-2.6914 0.86719-5.3242 1.668-7.9062 2.3672zm15.613-5.082-13.508-24.617c2.8945-1.1094 5.8242-2.3359 8.7656-3.5859l13.535 24.695c-2.9766 1.2656-5.9102 2.4297-8.793 3.5078zm16.18-6.8359-13.562-24.734c3.1992-1.5195 6.4062-3.1133 9.6133-4.8164l13.562 24.758c-3.2383 1.7031-6.4453 3.2969-9.6133 4.793zm16.699-8.668-13.57-24.758c3.1523-1.7969 6.2344-3.6523 9.2383-5.5273l13.562 24.734c-2.9609 1.8711-6.0273 3.7188-9.2305 5.5508zm15.984-9.9922-13.539-24.691c2.6484-1.7852 5.2422-3.6133 7.7266-5.4609l13.512 24.617c-2.457 1.8633-5.0273 3.707-7.6992 5.5352zm14.121-10.57-13.48-24.594c2.1797-1.7461 4.2578-3.5234 6.2891-5.3047l13.441 24.5c-1.9727 1.7891-4.0625 3.5938-6.25 5.3984zm12.285-11.16-13.355-24.355c2.0703-1.9922 4.043-3.9922 5.9062-5.9805l13.227 24.102c-1.7969 2.0508-3.6953 4.1211-5.7773 6.2344zm11.254-13.023-13.043-23.773c1.9375-2.3516 3.7188-4.6992 5.3359-7.0234l12.773 23.277c-1.4141 2.4023-3.1562 4.9375-5.0664 7.5195zm9.3438-16.496-12.129-22.102c1.0547-1.9141 1.9531-3.8008 2.7539-5.6602 0.39062-0.375 0.78906-0.76172 1.1797-1.125l8.5664 15.605c1.7266 3.1172 1.5859 7.7109-0.37109 13.281z" />
    </svg>
    <span v-else>{{ rolled }}</span>
  </button>
</template>

<script lang="ts">
import { mixins } from 'vue-class-component';
import { BaseDice } from './BaseDice';

export default class Coin extends mixins(BaseDice<CoinFlipResult>) {
  public getResult(): CoinFlipResult {
    return this.store.flipCoin();
  }
}
</script>
